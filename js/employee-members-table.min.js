const gridOptions={localeText:AG_GRID_LOCALE_RU,rowHeight:50,rowData:[{id:1,photo:"male-no-avatar.png",membershipNumber:"123123123",fio:"Альхимович Евгений Иванович",email:"aroitq@mail.ru",group:"Заместитель директора",phone:"+375(17)243-26-71",benefit:!1,entranceFeePayment:!0,memberFeePayment:!1,sportsDegree:"МСМК",gender:"М",birthdayDate:"29.05.1989",region:"Брестская область",city:"Брест",school:"Школа5",createdAt:"25.04.2007",active:!1,age:18,edit:"",delete:""},{id:5,photo:"female-no-avatar.png",membershipNumber:"123123123",fio:"Альхимович Евгений Иванович",email:"aroitq@mail.ru",group:"Судья",phone:"+375(17)243-26-71",benefit:!1,entranceFeePayment:!0,memberFeePayment:!1,sportsDegree:"МСМК",gender:"М",birthdayDate:"29.05.1989",region:"Брестская область",city:"Брест2",school:"ГСУСУ «Брестский областной ЦОР по водным видам спорта»",createdAt:"25.04.2007",active:!1,age:18,edit:"",delete:""},{id:2,photo:"member-avatar.png",membershipNumber:"555",fio:"Кабанчик Валерий Евгенич",email:"aroitq@mail.ru",group:"Без группы",phone:"+375(17)243-26-71",benefit:!0,entranceFeePayment:!0,memberFeePayment:!0,sportsDegree:"МС",gender:"Ж",birthdayDate:"29.05.1989",region:"Гомельская область",city:"Гомель",school:"Школа 3",createdAt:"25.04.2007",active:!0,age:25,edit:"",delete:""},{id:3,photo:"member-avatar.png",membershipNumber:"9999991",fio:"Попик Валентина Альбертовна",email:"aroitq@mail.ru",group:"Председатель",phone:"+375(17)243-26-71",benefit:!1,entranceFeePayment:!1,memberFeePayment:!0,sportsDegree:"КМС",gender:"М",birthdayDate:"29.05.1989",region:"Витебская область",city:"Витебск",school:"Школа",createdAt:"25.04.2007",active:!0,age:33,edit:"",delete:""}],getRowStyle:params=>{if(!1===params.data.active)return{background:"#EAEAEA",color:"#797979"}},columnDefs:[{field:"id",headerName:"№",width:80,minWidth:80,maxWidth:80},{field:"photo",headerName:"Фото",cellClass:"ag-cell-center",maxWidth:100,cellRenderer:params=>customAvatarComponent(params)},{field:"membershipNumber",headerName:"Номер билета",unSortIcon:!0,width:150,minWidth:110,maxWidth:180},{field:"fio",headerName:"ФИО",unSortIcon:!0},{field:"email",headerName:"Email",unSortIcon:!0},{field:"group",headerName:"Группа",unSortIcon:!0,cellClassRules:{"ag-badge blue":params=>"Исполнительный директор"===params.value||"Генеральный секретарь"===params.value||"Судья"===params.value||"Пресс-секретарь"===params.value,"ag-badge green":params=>"Председатель"===params.value||"Методист"===params.value||"Заместитель председателя"===params.value||"Бухгалтер"===params.value,"ag-badge red":params=>"Спортсмен"===params.value||"Администратор"===params.value||"Директор"===params.value||"Заместитель директора"===params.value,"ag-badge yellow":params=>"Тренер"===params.value||"Старший тренер"===params.value,"ag-badge gray":params=>"Без группы"===params.value}},{field:"phone",headerName:"Телефон"},{field:"benefit",headerName:"Льгота",unSortIcon:!0,cellClass:"ag-cell-center",width:105,minWidth:90,maxWidth:120,cellRenderer:params=>{if(!0===params.value){return'<img src="./img/icons/checkbox-green.png" />'}return'<img src="./img/icons/checkbox-red.png" />'}},{field:"entranceFeePayment",headerName:"Оплата ВВ*",unSortIcon:!0,width:135,minWidth:110,maxWidth:140,cellClass:"ag-cell-center",cellRenderer:params=>{if(!0===params.value){return'<img src="./img/icons/checkbox-green.png" />'}return'<img src="./img/icons/checkbox-red.png" />'}},{field:"memberFeePayment",headerName:"Оплата ЧВ*",unSortIcon:!0,width:135,minWidth:110,maxWidth:140,cellClass:"ag-cell-center",cellRenderer:params=>{if(!0===params.value){return'<img src="./img/icons/checkbox-green.png" />'}return'<img src="./img/icons/checkbox-red.png" />'}},{field:"sportsDegree",headerName:"Разряд",width:135,minWidth:110,maxWidth:140,unSortIcon:!0,cellRenderer:params=>params.value.toUpperCase()},{field:"gender",headerName:"Пол",width:75,minWidth:60,maxWidth:90,cellRenderer:params=>params.value.toUpperCase(),cellClassRules:{"ag-badge blue":params=>"м"===params.value.toLowerCase(),"ag-badge red":params=>"ж"===params.value.toLowerCase()}},{field:"birthdayDate",headerName:"Дата рождения",unSortIcon:!0},{field:"region",headerName:"Регион",unSortIcon:!0},{field:"city",headerName:"Город",unSortIcon:!0},{field:"school",headerName:"Школа",unSortIcon:!0},{field:"createdAt",headerName:"Дата создания",unSortIcon:!0},{field:"edit",headerName:"",cellClass:"ag-cell-center",width:60,minWidth:60,maxWidth:60,cellRenderer:params=>'<a href="cabinet-bfp-employee-edit-member.html"><i class="color-dark-gray hover-main fs-18 bi bi-pencil-square"></i></a>'},{field:"delete",headerName:"",cellClass:"ag-cell-center",width:60,minWidth:60,maxWidth:60,cellRenderer:params=>'<button class="bg-transparent" data-bs-target="#deleteMember" data-bs-toggle="modal"><i class="color-dark-gray hover-main fs-18 bi bi-trash3"></i></button>'}],defaultColDef:{flex:1,wrapText:!0,autoHeight:!0},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100],onColumnMoved:onColumnMoved,onColumnResized:onColumnResized,onSortChanged:onSortChanged,onGridReady:onGridReady,isExternalFilterPresent:()=>""!==document.getElementById("membershipNumberFilter").value||""!==document.getElementById("fioFilter").value||""!==document.getElementById("ageFromFilter").value||""!==document.getElementById("ageToFilter").value||"all"!==document.getElementById("genderFilter").value||"all"!==document.getElementById("sportsDegreeFilter").value||"all"!==document.getElementById("region").value||"all"!==document.getElementById("city").value||"all"!==document.getElementById("school").value||"all"!==document.getElementById("groupFilter").value||"all"!==document.getElementById("privilegeFilter").value||"all"!==document.getElementById("activeMemberFilter").value||"all"!==document.getElementById("paymentFilter").value,doesExternalFilterPass:node=>{const membershipNumberFilterValue=document.getElementById("membershipNumberFilter").value,fioFilterValue=document.getElementById("fioFilter").value.toLowerCase(),ageFromFilterValue=parseInt(document.getElementById("ageFromFilter").value,10),ageToFilterValue=parseInt(document.getElementById("ageToFilter").value,10),genderFilterValue=document.getElementById("genderFilter").value,sportsDegreeFilterValue=document.getElementById("sportsDegreeFilter").value,regionFilterValue=document.getElementById("region").value,cityFilterValue=document.getElementById("city").value,schoolFilterValue=document.getElementById("school").value,groupFilterValue=document.getElementById("groupFilter").value,privilegeFilterValue=document.getElementById("privilegeFilter").value,activeMemberFilterValue=document.getElementById("activeMemberFilter").value,paymentFilterValue=document.getElementById("paymentFilter").value,membershipNumberMatch=!membershipNumberFilterValue||node.data.membershipNumber.toString().includes(membershipNumberFilterValue),fioMatch=!fioFilterValue||node.data.fio.toLowerCase().includes(fioFilterValue),ageMatch=(isNaN(ageFromFilterValue)||node.data.age>=ageFromFilterValue)&&(isNaN(ageToFilterValue)||node.data.age<=ageToFilterValue),genderMatch="all"===genderFilterValue||node.data.gender===genderFilterValue,sportsDegreeMatch="all"===sportsDegreeFilterValue||node.data.sportsDegree===sportsDegreeFilterValue,regionMatch="all"===regionFilterValue||node.data.region===regionFilterValue,cityMatch="all"===cityFilterValue||node.data.city===cityFilterValue,schoolMatch="all"===schoolFilterValue||node.data.school===schoolFilterValue,groupMatch="all"===groupFilterValue||node.data.group===groupFilterValue,privilegeMatch="all"===privilegeFilterValue||String(node.data.benefit)===privilegeFilterValue,activeMemberMatch="all"===activeMemberFilterValue||String(node.data.active)===activeMemberFilterValue;let paymentMatch=!1;return"all"===paymentFilterValue?paymentMatch=!0:"onlyMember"===paymentFilterValue?paymentMatch=!0===node.data.memberFeePayment&&!1===node.data.entranceFeePayment:"onlyEntrance"===paymentFilterValue?paymentMatch=!1===node.data.memberFeePayment&&!0===node.data.entranceFeePayment:"notPaid"===paymentFilterValue&&(paymentMatch=!1===node.data.memberFeePayment&&!1===node.data.entranceFeePayment),membershipNumberMatch&&fioMatch&&ageMatch&&genderMatch&&sportsDegreeMatch&&regionMatch&&cityMatch&&schoolMatch&&groupMatch&&privilegeMatch&&activeMemberMatch&&paymentMatch}};let gridApi;function customAvatarComponent(params){return`<img class="ag-avatar" src="./img/${params.value}" alt="Avatar">`}function createColumnSelection(){const columnDefs=gridOptions.columnDefs;columnDefs.pop(),columnDefs.pop();const columnSelector=document.getElementById("columnSelector");columnDefs.forEach((colDef=>{const checkboxDiv=document.createElement("div");checkboxDiv.className="form__checkbox mb-0";const label=document.createElement("label");label.className="form__checkbox-container";const checkbox=document.createElement("input");checkbox.type="checkbox",checkbox.name=colDef.field;const column=gridApi.getColumn(colDef.field);checkbox.checked=!column||column.isVisible();const textSpan=document.createElement("span");textSpan.className="form__checkbox-text",textSpan.textContent=colDef.headerName;const checkmarkSpan=document.createElement("span");checkmarkSpan.className="form__checkbox-checkmark--dark",label.appendChild(checkbox),label.appendChild(textSpan),label.appendChild(checkmarkSpan),checkboxDiv.appendChild(label),columnSelector.appendChild(checkboxDiv),checkbox.addEventListener("change",(()=>{gridApi.setColumnsVisible([colDef.field],checkbox.checked);const columnState=gridApi.getColumnState();localStorage.setItem("membersState",JSON.stringify(columnState))}))}))}const toggleCheckboxesBtn=document.querySelector(".columns-select__toggle-button"),checkboxesBody=document.querySelector(".columns-select__body");function onColumnMoved(params){const columnState=params.api.getColumnState();localStorage.setItem("membersState",JSON.stringify(columnState))}function onColumnResized(params){const columnState=params.api.getColumnState();localStorage.setItem("membersState",JSON.stringify(columnState))}function onSortChanged(params){const columnState=params.api.getColumnState();localStorage.setItem("membersState",JSON.stringify(columnState))}function onGridReady(params){gridApi=params.api;const columnState=JSON.parse(localStorage.getItem("membersState"));columnState&&params.api.applyColumnState({state:columnState,applyOrder:!0}),createColumnSelection();function onFilterChanged(){params.api.onFilterChanged()}["membershipNumberFilter","fioFilter","ageFromFilter","ageToFilter","genderFilter","sportsDegreeFilter","region","city","school","groupFilter","privilegeFilter","activeMemberFilter","paymentFilter"].forEach((id=>{const element=document.getElementById(id);element&&(element.addEventListener("input",onFilterChanged),element.addEventListener("change",onFilterChanged))}))}toggleCheckboxesBtn&&checkboxesBody&&(toggleCheckboxesBtn.addEventListener("click",(event=>{checkboxesBody.classList.toggle("hidden")})),document.addEventListener("click",(event=>{checkboxesBody.contains(event.target)||toggleCheckboxesBtn.contains(event.target)||checkboxesBody.classList.add("hidden")})));const ediv=document.querySelector("#members-table"),globalSearchInput=document.getElementById("globalSearch");function onFilterTextBoxChanged(){gridApi.setGridOption("quickFilterText",document.getElementById("globalSearch").value)}globalSearchInput&&globalSearchInput.addEventListener("input",(()=>onFilterTextBoxChanged())),agGrid&&agGrid.createGrid(ediv,gridOptions);